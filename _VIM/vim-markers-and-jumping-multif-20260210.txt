filename: vim-markers-and-jumping-multif-20260210.txt
https://jitesh117.github.io/vim_stuff/use-marks-and-jumps-effectively-in-vim/

Use Marks and Jumps Effectively in Vim
September 25, 2024

Vim, the powerful text editor, offers a multitude of features to enhance your editing efficiency. Among
these, marks and jumps stand out as incredibly useful tools for navigation within files and across your
editing session. In this article we'll explore how to effectively use marks and jumps to supercharge your Vim
workflow.

Understanding Marks
Marks in Vim are like bookmarks in your text. They allow you to quickly jump to specific locations in your
file or even across different files.

Types of Marks
 1. Lowercase marks (a-z): These are local to the file you're editing.
 2. Uppercase marks (A-Z): These are global and can be used across files.
 3. Numbered marks (0-9): These are automatically set by Vim and can be used to jump to the position where
    you last exited a file.

Setting and Using Marks
  * To set a mark: m{letter}
  * To jump to a mark: '{letter} or `{letter}

For example:
  * ma sets mark 'a' at the current cursor position
  * 'a jumps to the line of mark 'a'
  * `a jumps to the exact position of mark 'a'

Practical Uses of Marks
 1. Marking important sections of code: Use marks to quickly jump between function definitions, important
    variables, or configuration sections.
 2. Before making big changes: Set a mark before making significant edits so you can easily return if needed.
 3. Copying between distant parts of a file: Set a mark at the source, move to the destination, then yank
    from the mark.

Mastering Jumps
Jumps in Vim refer to significant cursor movements. Understanding and using jumps effectively can greatly
improve your navigation speed.

Important Jump Commands
  * Ctrl-O: Jump back to previous positions
  * Ctrl-I: Jump forward
  * g;: Jump to position of last change
  * g,: Jump to position of next change
  * :jumps: View the jump list

The Jump List
Vim maintains a jump list, which is a record of your movements through files. You can view this list with the
:jumps command.

Practical Uses of Jumps
 1. Exploring code: Use Ctrl-O and Ctrl-I to move back and forth as you explore different parts of your
    codebase.
 2. Undoing navigation mistakes: If you accidentally jump to the wrong place, quickly get back with Ctrl-O.
 3. Returning to recent edits: Use g; to quickly jump back to where you were last making changes.

Combining Marks and Jumps
The real power comes when you combine marks and jumps:
 1. Set marks at key points in your workflow, then use jumps to navigate between these points and other parts
    of your file or project.
 2. Use uppercase marks to jump between files, and then use Ctrl-O to return to your previous position.
 3. Create a 'breadcrumb trail' through your code by setting sequential marks (e.g., ma, mb, mc) and then use
    jumps to move along this trail.

Enough of the blabbering just give me the commands!!!

---------------------------------------------------------------
Command      Description                               Category
---------------------------------------------------------------
m{letter}    Set mark at current cursor position       Marks
'{letter}    Jump to the line of mark                  Marks
`{letter}    Jump to the exact position of mark        Marks
Ctrl-O       Jump back to previous positions           Jumps
Ctrl-I       Jump forward                              Jumps
g;           Jump to position of last change           Jumps
g,           Jump to position of next change           Jumps
:jumps       View the jump list                        Jumps
---------------------------------------------------------------

Conclusion
Mastering marks and jumps in Vim can significantly boost your productivity. They allow you to navigate your
code with precision and speed, reducing the cognitive load of remembering where important parts of your code
are located. Practice using these features regularly, and soon they'll become an indispensable part of your
Vim toolkit.

Remember, the key to becoming proficient with marks and jumps is consistent practice. Start by incorporating
a few of these techniques into your daily workflow, and gradually expand your usage as you become more
comfortable. Happy vimming!


---
https://vim.fandom.com/wiki/Using_marks

Using marks (5+)
2001

A mark allows you to record your current position so you can return to it later. There is no visible
indication of where marks are set.

Each file has a set of marks identified by lowercase letters (a-z). In addition there is a global set of
marks identified by uppercase letters (A-Z) that identify a position within a particular file. For example,
you may be editing ten files. Each file could have mark a, but only one file can have mark A.

Because of their limitations, uppercase marks may at first glance seem less versatile than their lowercase
counterpart, but this feature allows them to be used as a quick sort of "file bookmark." For example, open
your .vimrc, press mV, and close Vim. The next time you want to edit your .vimrc, just press 'V to open it.
This assumes that you have kept the default 'viminfo' behavior, so that uppercase marks are all remembered in
the viminfo-file between Vim sessions.

As well as the letter marks, there are various special marks.

The marks for recently-edited files are saved (provided the 'viminfo' option has the ' parameter), so marks
from previous sessions can be used when editing in the future. :help 'viminfo'

Setting marks
To set a mark, type m followed by a letter. For example, ma sets mark a at the current position (line and
column). If you set mark a, any mark in the current file that was previously identified as a is removed. If
you set mark A, any previous mark A (in any file) is removed.

Using marks
To jump to a mark enter an apostrophe (') or backtick (`) followed by a letter. Using an apostrophe jumps to
the beginning of the line holding the mark, while a backtick jumps to the line and column of the mark.

Using a lowercase letter (for example `a) will only work if that mark exists in the current buffer. Using an
uppercase letter (for example `A) will jump to the file and the position holding the mark (you do not need to
open the file prior to jumping to the mark).
  * Each file can have mark a - use a lowercase mark to jump within a file.
  * There is only one file mark A - use an uppercase mark to jump between files.

---------------------------------------------------------------------------
Command       Description
---------------------------------------------------------------------------
ma            set mark a at current cursor location
'a            jump to line of mark a (first non-blank character in line)
`a            jump to position (line and column) of mark a
d'a           delete from current line to line of mark a
d`a           delete from current cursor position to position of mark a
c'a           change text from current line to line of mark a
y`a           yank text to unnamed buffer from cursor to position of mark a
:marks        list all the current marks
:marks aB     list marks a, B
---------------------------------------------------------------------------
Commands like d'a operate "linewise" and include the start and end lines.
Commands like d`a operate "characterwise" and include the start but not the end character.

It is possible to navigate between lowercase marks:
-------------------------------------------------------
Command     Description
-------------------------------------------------------
]'          jump to next line with a lowercase mark
['          jump to previous line with a lowercase mark
]`          jump to next lowercase mark
[`          jump to previous lowercase mark
-------------------------------------------------------
The above commands take a count. For example, 5]` jumps to the fifth mark after the cursor.

Special marks
Vim has some special marks which it sets automatically. Here are some of the most useful:

--------------------------------------------------------------------------
Command      Description
--------------------------------------------------------------------------
`.           jump to position where last change occurred in current buffer
`"           jump to position where last exited current buffer
`0           jump to position in last file edited (when exited Vim)
`1           like `0 but the previous file (also `2 etc)
''           jump back (to line in current buffer where jumped from)
``           jump back (to position in current buffer where jumped from)
`[ or `]     jump to beginning/end of previously changed or yanked text
`< or `>     jump to beginning/end of last visual selection
--------------------------------------------------------------------------
See the full list at :help '[ and following.

Deleting marks
If you delete a line containing a mark, the mark is also deleted.
If you wipeout a buffer (command :bw), all marks for the buffer are deleted.
The :delmarks command (abbreviated as :delm) may be used to delete specified marks.

--------------------------------------------------------------------------
Command            Description
--------------------------------------------------------------------------
:delmarks a        delete mark a
:delmarks a-d      delete marks a, b, c, d
:delmarks abxy     delete marks a, b, x, y
:delmarks aA       delete marks a, A
:delmarks!         delete all lowercase marks for the current buffer (a-z)
--------------------------------------------------------------------------

See also
  * showmarks plugin to put a sign in the left margin for each mark; works poorly and interferes with other
    commands in Vim 7
  * script#2142 is another showmarks plugin which works without problems in Vim 7
  * MarkX Another plugin for displaying marks in the margin
  * Signature is another plugin for displaying marks in the margin, as well as special markers, with some
    added functionality like new mappings.

References
  * :help mark-motions

Comments
The :delmarks command requires Vim 7.0. On previous versions, a kludge to remove all marks is to enter the
command :%!cat (on Unix-based systems), or :%!type (on Windows) to delete the entire contents of the buffer
and replace each line with itself by filtering through an external command. A mark is automatically deleted
when its line is deleted.

I suggest moving the Deleting section below the Using section. (Spiiph 11:53, 30 July 2009 (UTC))

    I was scratching my head wondering why I put them in their current order, but when I went to move it, I
    see why. It's nice that "Using" and "Special" can be seen together, on the same screen because they are
    the items that a reader will probably want to refer to (it's a bit hard to keep all of it in your mind).
    I suppose "Deleting" could go after "Special", but that might be as strange as where it is now?
    JohnBeckett 23:34, 30 July 2009 (UTC)

        I think that would be better, even though it might seem illogical. Another idea would be to remove
        the section on Deleting marks altogether. I don't think I have ever used that functionality, and
        users who need it are probably advanced enough to find the information in the :help. (Spiiph 13:39, 2
        August 2009 (UTC))

            Done.


---
https://medium.com/@kyle.coberly/using-marks-in-vim-c878929ee022

Using Marks in Vim
Dec 29, 2018

Vim's motion commands are very flexible and work well for general use. You can go to the beginning
of a line, replace a word, or change a sentence. What about things that are semantically relevant to
your files, like an important or buggy function definition, the point of entry for your application,
or a stack you're trying to trace? For these, you can use marks (read as: "bookmarks"). These are "save
points" in your files that you can set, jump between, and even use with commands.

Local and Global Marks
A local mark is specific to a particular file and is indicated by a lowercase letter, while global marks
are universal across all of your files and use uppercase letters. That is, many files can have an `a mark,
while `A points to a particular location in one particular file.

Viewing Marks
View a list of your current marks with :marks. Note that marks are invisible in vim without the use of a
(plug-in).

Setting Marks
Set marks with m key in normal mode. To set a local mark of a where the cursor is, type ma. To jump to
this location, type `a anywhere in the file.

Deleting Marks
You can delete marks with the :delm command. To delete marks `a, `e, and `G, you would type :delm aeG. You
can delete all local marks with :delm!.

Some tips
  - Marks are motions, so you can use them with actions. For example, y`w will copy everything between
    your current cursor location and the `w mark.

  - `` will return you to the last place you jumped from

  - `0 will return you to the last file you had open before you quit vim

  - Using ' (single-quote) instead of ` (backtick) will jump you to the first non-blank character on
    the same line as the mark

  - If set `V to the top of your .vimrc file, you can jump to it from any file (saved between vim sessions
    by default)

  - You can cycle through local marks with [` / ]`

  - The kshenoy/vim-signature plug-in will add visual indications of marks to your line numbers, as well
    as giving you the ability to delete marks with dm[mark letter], assign the next available mark with
    m,, and more


---
https://www.linux.com/news/vim-tips-moving-around-using-marks-and-jumps/

Home News Vim tips: Moving around using marks and jumps
May 17, 2006

Editing in Vim can be a breeze, if you know how to make use of its more advanced features. Moving around
files can feel like a slog if you're stuck with the basic movement keys, but editing is effortless when you
have command of marks and jumps.

Basically, a mark is a bookmark or placeholder that allows you to return to a spot in the file where you were
editing. This can be handy when you're working on longer projects, whether you're writing a long paper,
making changes to your Apache configuration, or writing code.

Jumps are movements within a file. For example, when you use G to move to the last line of a file from your
current position, that's a jump. Vim not only makes it easy to move from one point in the file to another, it
also makes it easy to retrace your steps.

m marks the spot
Let's take a look at Vim marks. All you need to do to set a mark is to enter normal mode, then type mx, where
x is the letter you want to assign to the mark.

For example, if you're typing and decide that you need to set a mark so you can return to a sentence or line
of code you're not entirely happy with, press Esc to leave insert mode, then type ma to set a mark at the
spot your cursor was on.

You can use any letter in the alphabet, upper or lower case. However, capital letters are global marks, so
you should use them only in special circumstances, which I'll explain in just a bit. It's not necessary to
use them in alphabetical order; you can set mark z right after setting mark a if you like, or skip a
altogether and start with z.

To return to the mark you've set, enter normal mode (if you're not in normal mode already) and type `x where
x is the letter associated with the mark you want to revisit. The backtick (`) will return you to the exact
spot where the mark was set. You can also use the single quote ('), which will return you to the beginning of
the line you were at, but not the exact cursor position.

Marks set with lowercase letters are specific to the file that they're set in. That is to say, if you are
using a Vim session to edit two files in a split viewport, then you can set mark a in both files. When you're
editing file 1, using `a would take you to mark a in file 1. When in file 2, `a would take you to the spot in
file 2 marked a - which is probably what you'd expect.

However, if you're using Vim to edit two files and you've set mark A, it will be specific to that file. So,
if you're editing file 2, and have mark A set in file 1 and use `A, Vim will close the current file and take
you to mark A in file 1. If file 2 has unsaved changes, Vim will complain that you haven't written the file
since the last change, and refuse to open the new file.

While global bookmarks are useful on occasion, it's usually best to stick to lower-case marks unless you have
a specific need for global bookmarks.

Now where did I leave that?
After spending an hour or two editing a file, you might forget exactly where you've set marks in a file. If
you'd like to see where they are, you can enter command mode and use the :marks command. Vim will display the
name of each mark, the line and column number where it is set, and part of the text from that line. Note that
Vim won't start the display on the column where the mark begins - instead, you'll see the beginning of the
line where the mark is set. So, if you've set marks for a, b, and c, you will see where those marks are set,
but you'll also see a few other marks that you might not recognize. Here's a shortish example:

-----------------------------------------------------------------------------------
mark    line    col    file/text
-----------------------------------------------------------------------------------
'       112     0
a       11      3      <p>For example, if you're typing and decide that you
b       103     0      <p>By default, when you exit Vim, the marks that you've
D       26      0      ~/src/gaim-2.0.0beta2/src/Makefile
0       61      60      <p>The " mark is set to the last position of the cursor
1       103     0      <p>By default, when you exit Vim, the marks that you've
"       35      0      <p><strong><code style="background-color: yellow;">'"</code>
[       52      0
]       54      0
^       54      0
.       73      115    <p>The . mark will take you to the last position a change
-----------------------------------------------------------------------------------
Press ENTER or type command to continue

--------------------------------------------------------------------------------------------------
Vim mark quick reference
--------------------------------------------------------------------------------------------------
mx       tells Vim to add a mark called x.
`x       tells Vim to return to the line and column for mark x.
'x       tells Vim to return to the beginning of the line where mark x is set.
`.       moves the cursor to the line and column where the last edit was made.
'.       moves the cursor to the line where the last edit was made.
'"       moves the cursor to the last position of the cursor when you exited the previous session.
:marks   shows all marks set.
:marks x shows the mark named x.
:jumps   shows the jumplist.
Ctrl-o   moves the cursor to the last jump.
Ctrl-i   moves the cursor to the previous jump.
H        moves the cursor to the top of the screen or viewport.
M        moves the cursor to the middle of the screen or viewport.
L        moves the cursor to the bottom of the screen or viewport.
--------------------------------------------------------------------------------------------------

Specifically, you'll see marks for ., [, ], ", ', and a few others. Those marks are present whether you've
set any marks manually or not. The [ and ] marks indicate the last changed or copied ("yanked") text. The [
mark is the first character of the text that's been changed or yanked, the ] is the last character of that
text. Note that these marks don't work until you actually make a change in the file.

The . mark will take you to the last position a change was made. So, '. will take you to the line where the
last change was made in your file, and `. will take you to the cursor position where the last change was
made.

If you make a jump within a file - that is, if you use a movement or search command to move within the file -
the ` character will return you to the position you started from. For example, using the G movement command
you can jump to the bottom of the file. If you want to return to the last cursor position, use `` and you'll
be moved back to the last location of the cursor before using G. We'll discuss jumps in more detail a bit
later.

The " mark is set to the last position of the cursor when you exited the previous Vim session, if you have
Vim configured to save your session information using a viminfo file. We'll cover that in just a bit too.

Finally, if your session information is being saved, you can also use numbered marks to return to the last
position the cursor was at when you closed a file. Using numbered marks, `0 will move the cursor to the last
position it was at when you closed a file. `1 will move the cursor to the last position it was at when you
closed the file the time before last, and so forth.

If you just want to know where a specific mark is in the file, you can use :marks markname to display just
those marks. To see marks a and B, for instance, you'd just use :marks aB. This is pretty useful when you
have 10 or 20 marks set.

Advanced marking
Marks are useful for more than just moving about a file - though that feature alone is very useful. Marks can
also be used to specify a range for commands. Normally, if you want to delete a few lines, you can use line
numbers to specify the line, like so:
:22,55 d

That will delete lines 22 through 55. But it's much easier to remember marks than line names most of the
time. If you have line 22 marked as g and 55 marked as k, you could substitute :'g,'k d and remove those
lines without having to go back and confirm the line numbers. This works with other commands too, so you
could just as easily write those lines to a file using :'g,'k w filename or use the range for a substitution
command like this:
:'g,'k s/foo/bar/g

The jumplist
Vim stores a list of your movements throughout a file, whether they're associated with marks or not. To see a
full list of jumps within a file, use :jumps. Here's a short sample:
:jumps
 jump line  col file/text
    3     1    0 /**
    2   608    0 }
    1    33    0 #include "log.h"
>
Press ENTER or type command to continue

Vim lists the jump number, line number, and column of the last location of the cursor for each jump, as well
as a bit of text to help provide context. You can cycle between jump locations using the Ctrl-o and Ctrl-i
keybindings. Ctrl-o will move you to the last jump, then the next-to-last, and so forth. In this instance, if
you use Ctrl-o, you'd be taken to line 33, then line 608, then 1. To move forwards through the jump history,
use Ctrl-i - which would take you from line 1 (jump 3) to line 608, then line 33.

Though they're not jumps, since we're discussing moving around a file easily, you might want to familiarize
yourself with the movement commands G, gg, H, M, and L. G, as we've already discussed, will take you to the
bottom of the file. The gg command will move you to the top of the file. The H, M, and L commands will move
you to the top, middle, and bottom of the screen, respectively.

Saving marks and jumps
By default, when you exit Vim, the marks and jumps that you've created are lost. Luckily, there's an easy way
to save the marks you've created by making use of the viminfo file, which saves state information between Vim
sessions.

To make sure this feature is enabled, open your .vimrc and look for a line that begins with set viminfo=. If
you don't have that line, insert it. It should look something like this:
set viminfo='100,f1

If you have viminfo set, it will save local marks (a-z) by default. The '100 tells Vim to save marks and
other information for up to 100 files. The f1 directive tells Vim to also save global marks (A-Z) when it
exits. If you don't want Vim to do this, set it to f0 instead.

You can use the viminfo file for a lot more than saving marks and jumps, but we'll have to cover that in a
future installment.


---

